{% extends "base.html" %}
{% block title %}Мои маршруты{% endblock %}

{% block extra_css %}
  <link href="{{ url_for('static', path='css/pages/my_routes.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container my-4">
  <h1 class="glow-text mb-4"><i class="bi bi-geo-fill"></i> Мои маршруты</h1>

  {% if groups %}
    {% for group in groups %}
      <h2 class="mt-5">{{ group.destination.name }}</h2>
      <div class="list-group mb-3">
        {% for route in group.routes %}
          <a href="/pages/routes/{{ route.id }}"
             class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <span>
              <i class="bi bi-map-fill me-2 route-icon"></i> {{ route.name }}
            </span>
            {% if route.published %}
              <span class="badge bg-success">Опубликован</span>
            {% endif %}
          </a>
        {% endfor %}
      </div>
    {% endfor %}
  {% else %}
    <div class="alert alert-info">
      У вас ещё нет сохранённых маршрутов. 
      <a href="/pages/routes/create" class="alert-link">Создать первый маршрут</a>.
    </div>
  {% endif %}

  <div class="mt-4">
    <a href="/pages/routes/create" class="btn btn-success auth-required">
      <i class="bi bi-plus-lg"></i> Создать новый маршрут
    </a>
  </div>
</div>
{% endblock %}
